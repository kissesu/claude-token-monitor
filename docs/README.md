/**
 * @file README.md
 * @description Claude Token Monitor å‰ç«¯è®¾è®¡æ–‡æ¡£å¯¼èˆª
 * @author Atlas.oi
 * @date 2026-01-06
 */

# Claude Token Monitor - å‰ç«¯è®¾è®¡æ–‡æ¡£

## æ–‡æ¡£å¯¼èˆª

æœ¬ç›®å½•åŒ…å« Claude Token Monitor Web UI çš„å®Œæ•´è®¾è®¡æ–‡æ¡£ã€‚

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | æè¿° | é€‚ç”¨è¯»è€… |
|------|------|----------|
| **[å‰ç«¯æ¶æ„è®¾è®¡](./frontend-architecture.md)** | å®Œæ•´çš„å‰ç«¯æ¶æ„è®¾è®¡,åŒ…å«æŠ€æœ¯æ ˆã€ç»„ä»¶è®¾è®¡ã€çŠ¶æ€ç®¡ç†ã€ä¸»é¢˜ç³»ç»Ÿç­‰ | å‰ç«¯æ¶æ„å¸ˆã€å¼€å‘è€… |
| **[æŠ€æœ¯æ ˆæ€»ç»“](./tech-stack.md)** | æŠ€æœ¯é€‰å‹å¯¹æ¯”ä¸è¯´æ˜ | æŠ€æœ¯å†³ç­–è€…ã€å›¢é˜Ÿè´Ÿè´£äºº |
| **[ç»„ä»¶é€ŸæŸ¥è¡¨](./component-reference.md)** | å¿«é€Ÿå‚è€ƒæ‰€æœ‰ç»„ä»¶çš„ç”¨æ³•å’Œä»£ç ç¤ºä¾‹ | å‰ç«¯å¼€å‘è€… |
| **[å¼€å‘è·¯çº¿å›¾](./frontend-roadmap.md)** | è¯¦ç»†çš„å¼€å‘è®¡åˆ’å’Œæ—¶é—´å®‰æ’ | é¡¹ç›®ç»ç†ã€å¼€å‘è€… |

### èƒŒæ™¯æ–‡æ¡£

| æ–‡æ¡£ | æè¿° |
|------|------|
| [éœ€æ±‚åˆ†ææŠ¥å‘Š](./analysis-report.md) | å®Œæ•´çš„éœ€æ±‚åˆ†æä¸æ¶æ„è®¾è®¡ |
| [æ–¹æ¡ˆå¯¹æ¯”åˆ†æ](./solution-comparison.md) | ä¸‰ç§å®ç°æ–¹æ¡ˆçš„è¯¦ç»†å¯¹æ¯” |
| [Web UI åˆ†æ](./web-ui-docker-analysis.md) | Web UI Docker æ–¹æ¡ˆæ·±åº¦åˆ†æ |

---

## å¿«é€Ÿå¼€å§‹

### 1. æŠ€æœ¯æ ˆæ¦‚è§ˆ

```
å‰ç«¯: Svelte + Vite + TypeScript + Layerchart
åç«¯: Python aiohttp + WebSocket
éƒ¨ç½²: Docker å•å®¹å™¨
```

### 2. æ ¸å¿ƒç‰¹æ€§

- å®æ—¶ Token ç›‘æ§ (WebSocket)
- è´¹ç”¨ä¼°ç®—ä¸è¶‹åŠ¿åˆ†æ
- å†å²æ•°æ®æŸ¥è¯¢ä¸å¯¼å‡º
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- å“åº”å¼è®¾è®¡ (æ¡Œé¢/å¹³æ¿/æ‰‹æœº)

### 3. é¡µé¢ç»“æ„

```
/ - ä»ªè¡¨æ¿é¦–é¡µ
  â”œâ”€â”€ æ¦‚è§ˆå¡ç‰‡ (Token/è´¹ç”¨/ç¼“å­˜ç‡/ä¼šè¯æ•°)
  â”œâ”€â”€ Token è¶‹åŠ¿å›¾
  â”œâ”€â”€ æ¨¡å‹ä½¿ç”¨åˆ†å¸ƒ
  â””â”€â”€ æ´»åŠ¨çƒ­åŠ›å›¾

/history - å†å²æ•°æ®
  â”œâ”€â”€ æ—¥æœŸèŒƒå›´ç­›é€‰
  â”œâ”€â”€ æ•°æ®è¡¨æ ¼
  â””â”€â”€ å¯¼å‡ºåŠŸèƒ½

/settings - è®¾ç½®
  â”œâ”€â”€ ä¸»é¢˜åˆ‡æ¢
  â”œâ”€â”€ è´§å¸å•ä½
  â””â”€â”€ é€šçŸ¥åå¥½
```

### 4. æ ¸å¿ƒç»„ä»¶

**ç»Ÿè®¡å¡ç‰‡**:
- `StatCard` - å•æŒ‡æ ‡å±•ç¤º
- `MetricCard` - å¸¦å¯¹æ¯”çš„æŒ‡æ ‡
- `ComparisonCard` - å¤šæŒ‡æ ‡å¯¹æ¯”

**å›¾è¡¨ç»„ä»¶**:
- `TrendChart` - Token è¶‹åŠ¿æŠ˜çº¿å›¾
- `ModelPieChart` - æ¨¡å‹ä½¿ç”¨é¥¼å›¾
- `ActivityHeatmap` - æ´»åŠ¨çƒ­åŠ›å›¾
- `CostChart` - è´¹ç”¨è¶‹åŠ¿å›¾

**é€šç”¨ç»„ä»¶**:
- `ThemeToggle` - ä¸»é¢˜åˆ‡æ¢
- `DateRangePicker` - æ—¥æœŸé€‰æ‹©
- `ExportButton` - æ•°æ®å¯¼å‡º

### 5. çŠ¶æ€ç®¡ç†

```typescript
// ç»Ÿè®¡æ•°æ®
import { statsStore } from '$lib/stores/stats';
await statsStore.fetch();

// ä¸»é¢˜åˆ‡æ¢
import { themeStore } from '$lib/stores/theme';
themeStore.toggle();

// WebSocket
import { wsStore } from '$lib/stores/websocket';
wsStore.connect();
```

---

## å¼€å‘è®¡åˆ’

### ç¬¬ 1 å‘¨: åŸºç¡€å»ºè®¾
- é¡¹ç›®åˆå§‹åŒ– + TypeScript é…ç½®
- å¸ƒå±€ç»„ä»¶ (Header/Sidebar/Footer)
- æ ¸å¿ƒç»„ä»¶ (StatCard/DateRangePicker)

### ç¬¬ 2 å‘¨: æ•°æ®å¯è§†åŒ–
- å›¾è¡¨é›†æˆ (Layerchart)
- ä»ªè¡¨æ¿é¡µé¢
- API å¯¹æ¥

### ç¬¬ 3 å‘¨: å®æ—¶é€šä¿¡ + åŠŸèƒ½å®Œå–„
- WebSocket å®æ—¶æ›´æ–°
- å†å²æ•°æ®é¡µé¢
- è®¾ç½®é¡µé¢
- Docker é›†æˆ

### ç¬¬ 4 å‘¨: ä¼˜åŒ–ä¸æµ‹è¯•
- æ€§èƒ½ä¼˜åŒ– (ä»£ç åˆ†å‰²/æ‡’åŠ è½½)
- æµ‹è¯• (å•å…ƒ/ç»„ä»¶/E2E)
- æ–‡æ¡£å®Œå–„

**æ€»é¢„è®¡æ—¶é—´**: 17-24 å¤©

---

## æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| é¦–å±åŠ è½½æ—¶é—´ | < 2s |
| æ‰“åŒ…ä½“ç§¯ (gzip) | < 100KB |
| WebSocket å»¶è¿Ÿ | < 100ms |
| å›¾è¡¨æ¸²æŸ“æ—¶é—´ | < 200ms |
| Lighthouse åˆ†æ•° | > 90 |

---

## æŠ€æœ¯äº®ç‚¹

### 1. ä¸ºä»€ä¹ˆé€‰æ‹© Svelte?

| å¯¹æ¯”é¡¹ | Svelte | Vue 3 | React |
|--------|--------|-------|-------|
| æ‰“åŒ…ä½“ç§¯ | ~5KB | ~30KB | ~45KB |
| è¿è¡Œæ—¶å¼€é”€ | æ—  | æœ‰ | æœ‰ |
| å­¦ä¹ æ›²çº¿ | ä½ | ä¸­ | ä¸­ |
| é€‚åˆä»ªè¡¨æ¿ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |

**æ ¸å¿ƒä¼˜åŠ¿**:
- **ç¼–è¯‘æ—¶ä¼˜åŒ–**: æ— è™šæ‹Ÿ DOM,æ€§èƒ½æœ€ä¼˜
- **æ‰“åŒ…ä½“ç§¯å°**: gzip åä»… 5KB
- **ä»£ç ç®€æ´**: ä»£ç é‡å‡å°‘ 30-40%

### 2. ä¸ºä»€ä¹ˆé€‰æ‹© Layerchart?

- Svelte åŸç”Ÿæ”¯æŒ
- åŸºäº D3,æ€§èƒ½ä¼˜ç§€
- æ‰“åŒ…ä½“ç§¯å°
- TypeScript å®Œæ•´æ”¯æŒ

### 3. ä¸ºä»€ä¹ˆé€‰æ‹© aiohttp?

- åŸç”Ÿå¼‚æ­¥æ”¯æŒ
- å†…ç½® WebSocket
- æ€§èƒ½ä¼˜ç§€
- å­¦ä¹ æ›²çº¿é€‚ä¸­

---

## æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Docker Container                        â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Svelte å‰ç«¯    â”‚â—„â”€â”€â–ºâ”‚  aiohttp åç«¯    â”‚      â”‚
â”‚  â”‚   (é™æ€æ–‡ä»¶)     â”‚    â”‚  (API Server)    â”‚      â”‚
â”‚  â”‚   Port: 8080     â”‚    â”‚  + WebSocket     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                    â”‚                 â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                          â”‚   æ–‡ä»¶ç›‘å¬å™¨      â”‚       â”‚
â”‚                          â”‚   (watchdog)      â”‚       â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚ Volume Mount (readonly)
                                     â–¼
                              ~/.claude/
                              â”œâ”€â”€ stats-cache.json
                              â””â”€â”€ projects/*.jsonl
```

---

## ä»£ç ç¤ºä¾‹

### åˆ›å»ºç»Ÿè®¡å¡ç‰‡

```svelte
<script lang="ts">
  import StatCard from '$lib/components/stats/StatCard.svelte';
</script>

<StatCard
  title="Token æ€»é‡"
  value="123,456"
  icon="token"
  trend={12.5}
  color="primary"
/>
```

### æ·»åŠ è¶‹åŠ¿å›¾

```svelte
<script lang="ts">
  import TrendChart from '$lib/components/charts/TrendChart.svelte';
  import { statsStore } from '$lib/stores/stats';
</script>

<TrendChart
  data={$statsStore.dailyTokens}
  height={400}
/>
```

### WebSocket å®æ—¶æ›´æ–°

```svelte
<script lang="ts">
  import { onMount } from 'svelte';
  import { wsStore } from '$lib/stores/websocket';

  onMount(() => {
    wsStore.connect();
    return () => wsStore.disconnect();
  });
</script>

<div>å®æ—¶æ•°æ®: {$statsStore.totalTokens}</div>
```

---

## å“åº”å¼è®¾è®¡

### æ–­ç‚¹ç³»ç»Ÿ

```css
/* æ¡Œé¢ç«¯: 4åˆ—ç½‘æ ¼ */
.overview-cards {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
}

/* å¹³æ¿ç«¯: 2åˆ—ç½‘æ ¼ */
@media (max-width: 1024px) {
  .overview-cards {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* æ‰‹æœºç«¯: å•åˆ— */
@media (max-width: 640px) {
  .overview-cards {
    grid-template-columns: 1fr;
  }
}
```

---

## ä¸»é¢˜ç³»ç»Ÿ

### CSS å˜é‡å®šä¹‰

```css
/* æµ…è‰²ä¸»é¢˜ */
:root {
  --color-primary-500: #667eea;
  --color-surface-50: #fafafa;
  --color-surface-900: #18181b;
}

/* æ·±è‰²ä¸»é¢˜ */
[data-theme='dark'] {
  --color-primary-500: #818cf8;
  --color-surface-50: #18181b;
  --color-surface-900: #fafafa;
}
```

### ä¸»é¢˜åˆ‡æ¢

```svelte
<script lang="ts">
  import { themeStore } from '$lib/stores/theme';
</script>

<button on:click={() => themeStore.toggle()}>
  {$themeStore.current === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸'}
</button>
```

---

## æ–‡æ¡£ä½¿ç”¨æŒ‡å—

### å‰ç«¯æ¶æ„å¸ˆ

1. é˜…è¯» [å‰ç«¯æ¶æ„è®¾è®¡](./frontend-architecture.md) äº†è§£æ•´ä½“è®¾è®¡
2. å‚è€ƒ [æŠ€æœ¯æ ˆæ€»ç»“](./tech-stack.md) è¿›è¡ŒæŠ€æœ¯å†³ç­–
3. ä½¿ç”¨ [ç»„ä»¶é€ŸæŸ¥è¡¨](./component-reference.md) å¿«é€ŸæŸ¥æ‰¾ç»„ä»¶

### å‰ç«¯å¼€å‘è€…

1. æŸ¥çœ‹ [å¼€å‘è·¯çº¿å›¾](./frontend-roadmap.md) äº†è§£ä»»åŠ¡å®‰æ’
2. ä½¿ç”¨ [ç»„ä»¶é€ŸæŸ¥è¡¨](./component-reference.md) ä½œä¸ºå¼€å‘å‚è€ƒ
3. å‚è€ƒ [å‰ç«¯æ¶æ„è®¾è®¡](./frontend-architecture.md) ä¸­çš„ä»£ç ç¤ºä¾‹

### é¡¹ç›®ç»ç†

1. æŸ¥çœ‹ [å¼€å‘è·¯çº¿å›¾](./frontend-roadmap.md) äº†è§£æ—¶é—´è®¡åˆ’
2. é˜…è¯» [æ–¹æ¡ˆå¯¹æ¯”åˆ†æ](./solution-comparison.md) äº†è§£æŠ€æœ¯é€‰å‹
3. å‚è€ƒ [éœ€æ±‚åˆ†ææŠ¥å‘Š](./analysis-report.md) äº†è§£éœ€æ±‚èƒŒæ™¯

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¼€å§‹ (æœ¬å‘¨)

1. åˆå§‹åŒ– Svelte + Vite é¡¹ç›®
2. é…ç½® TypeScript + Tailwind CSS
3. å®ç°å¸ƒå±€ç»„ä»¶ (Header/Sidebar)
4. åˆ›å»º StatCard ç»„ä»¶

### çŸ­æœŸç›®æ ‡ (2 å‘¨å†…)

1. å®Œæˆä»ªè¡¨æ¿é¡µé¢
2. é›†æˆ Layerchart å›¾è¡¨
3. å¯¹æ¥åç«¯ API
4. å®ç° WebSocket å®æ—¶æ›´æ–°

### ä¸­æœŸç›®æ ‡ (1 ä¸ªæœˆå†…)

1. å®Œæˆæ‰€æœ‰é¡µé¢å¼€å‘
2. Docker å®¹å™¨åŒ–éƒ¨ç½²
3. æ€§èƒ½ä¼˜åŒ–
4. æµ‹è¯•è¦†ç›–ç‡ > 80%

---

## è”ç³»ä¸æ”¯æŒ

- ä½œè€…: Atlas.oi
- æ›´æ–°æ—¥æœŸ: 2026-01-06
- æ–‡æ¡£ç‰ˆæœ¬: 1.0.0

---

## é™„å½•

### ç›¸å…³é“¾æ¥

- [Svelte å®˜æ–¹æ–‡æ¡£](https://svelte.dev/)
- [Layerchart æ–‡æ¡£](https://layerchart.com/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Anthropic API å®šä»·](https://www.anthropic.com/pricing)

### æ¨èé˜…è¯»

1. Svelte å®˜æ–¹æ•™ç¨‹
2. D3.js æ•°æ®å¯è§†åŒ–æŒ‡å—
3. WebSocket å®æ—¶é€šä¿¡æœ€ä½³å®è·µ
4. Docker å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—

---

*æ„Ÿè°¢é˜…è¯»!ç¥å¼€å‘é¡ºåˆ©!*
