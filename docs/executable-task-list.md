/**
 * @file executable-task-list.md
 * @description Claude Token Monitor å¯æ‰§è¡Œä»»åŠ¡æ¸…å• - å®Œæ•´å¼€å‘ä»»åŠ¡åˆ†è§£
 * @author Atlas.oi
 * @date 2026-01-06
 */

# Claude Token Monitor - å¯æ‰§è¡Œä»»åŠ¡æ¸…å•

## é¡¹ç›®æ¦‚è¿°

**æ ¸å¿ƒåŸåˆ™**: æ‰€æœ‰æ•°æ®å‡æ¥è‡ª Claude Code æœ¬åœ°å­˜å‚¨ç›®å½• `~/.claude/`ï¼Œæ— ç½‘ç»œè¯·æ±‚æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ä¾èµ–ã€‚

| é¡¹ç›®ä¿¡æ¯ | å€¼ |
|----------|-----|
| é¢„ä¼°æ€»å·¥æ—¶ | 17-29 å¤© |
| åç«¯ä»£ç é‡ | ~2,000 è¡Œ |
| å‰ç«¯ä»£ç é‡ | ~3,000 è¡Œ |
| æµ‹è¯•è¦†ç›–ç‡ | åç«¯ >80%ï¼Œå‰ç«¯ >70% |

> **æ³¨**: ä¹è§‚ä¼°ç®— 17-24 å¤©ï¼ˆé«˜æ•ˆå¹¶è¡Œå¼€å‘ï¼‰ï¼Œä¿å®ˆä¼°ç®— 29 å¤©ï¼ˆé€ Phase ä¸²è¡Œå¼€å‘ï¼‰

---

## Phase 0: é¡¹ç›®åˆå§‹åŒ– (Day 0) âœ… å·²å®Œæˆ

### P0-1: é¡¹ç›®ç»“æ„åˆ›å»º âœ…
- [x] åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•ç»“æ„
- [x] åˆ›å»º `.env.example` ç¯å¢ƒé…ç½®æ¨¡æ¿
- [x] åˆ›å»º `.gitignore` æ–‡ä»¶
- [x] åˆ›å»º `README.md` é¡¹ç›®è¯´æ˜

**éªŒæ”¶æ ‡å‡†**: é¡¹ç›®ç›®å½•ç»“æ„å®Œæ•´ï¼Œgit åˆå§‹åŒ–æˆåŠŸ âœ…

### P0-2: Docker åŸºç¡€é…ç½® âœ…
- [x] åˆ›å»º `docker/Dockerfile` å¤šé˜¶æ®µæ„å»ºæ–‡ä»¶
- [x] åˆ›å»º `docker/Dockerfile.dev` å¼€å‘ç¯å¢ƒæ–‡ä»¶
- [x] åˆ›å»º `docker-compose.yml` ç”Ÿäº§é…ç½®
- [x] åˆ›å»º `docker-compose.dev.yml` å¼€å‘é…ç½®
- [x] åˆ›å»º `.dockerignore` æ–‡ä»¶

**éªŒæ”¶æ ‡å‡†**: `docker compose config` éªŒè¯é…ç½®æ— è¯¯ âœ…

### P0-3: Makefile é…ç½® âœ…
- [x] å®Œå–„ `Makefile` æ‰€æœ‰å‘½ä»¤
- [x] æ·»åŠ ç«¯å£æ¸…ç†é€»è¾‘
- [x] æ·»åŠ å¥åº·æ£€æŸ¥å‘½ä»¤
- [x] æµ‹è¯•æ‰€æœ‰ make å‘½ä»¤

**éªŒæ”¶æ ‡å‡†**: `make help` æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤ âœ…

---

## Phase 1: åç«¯åŸºç¡€è®¾æ–½ (Day 1-2) âœ… å·²å®Œæˆ

### BE-1.1: é¡¹ç›®åˆå§‹åŒ– âœ…
- [x] åˆ›å»º `backend/pyproject.toml`
- [x] åˆ›å»º `backend/requirements.txt`
- [x] è®¾ç½®åç«¯ç›®å½•ç»“æ„
- [x] é…ç½® ruff/black ä»£ç æ ¼å¼åŒ–

**éªŒæ”¶æ ‡å‡†**: `pip install -e .` æˆåŠŸæ‰§è¡Œ âœ…

### BE-1.2: é…ç½®ç®¡ç†æ¨¡å— âœ…
- [x] åˆ›å»º `backend/app/config.py`
- [x] å®ç° `Settings` ç±»ï¼ˆPydantic BaseSettingsï¼‰
- [x] æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–
- [x] æ”¯æŒ `.env` æ–‡ä»¶åŠ è½½
- [x] è·¯å¾„è‡ªåŠ¨æ£€æµ‹ï¼ˆmacOS/Linux/Windowsï¼‰
- [x] ç¼–å†™ `test_config.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: é…ç½®èƒ½æ­£ç¡®è¯»å–å’ŒéªŒè¯ï¼Œæµ‹è¯•è¦†ç›–ç‡ >90% âœ…

### BE-1.3: æ—¥å¿—é…ç½®æ¨¡å— âœ…
- [x] åˆ›å»º `backend/app/logger.py`
- [x] é…ç½®ç»“æ„åŒ–æ—¥å¿—æ ¼å¼
- [x] æ”¯æŒæ—¥å¿—çº§åˆ«åŠ¨æ€è°ƒæ•´
- [x] æ”¯æŒæ–‡ä»¶å’Œæ§åˆ¶å°åŒè¾“å‡º
- [x] æ·»åŠ è¯·æ±‚ ID è¿½è¸ª

**éªŒæ”¶æ ‡å‡†**: æ—¥å¿—æ­£ç¡®è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ âœ…

### BE-1.4: æ•°æ®æ¨¡å‹å®šä¹‰ âœ…
- [x] åˆ›å»º `backend/app/schemas.py`
- [x] å®šä¹‰ `StatsCache` æ¨¡å‹
- [x] å®šä¹‰ `ModelUsage` æ¨¡å‹
- [x] å®šä¹‰ `DailyActivity` æ¨¡å‹
- [x] å®šä¹‰ `DailyModelTokens` æ¨¡å‹
- [x] å®šä¹‰ `SessionInfo` æ¨¡å‹
- [x] å®šä¹‰ `ExportRequest/ExportResponse` æ¨¡å‹
- [x] æ·»åŠ æ•°æ®éªŒè¯è§„åˆ™
- [x] ç¼–å†™ `test_schemas.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰æ¨¡å‹èƒ½æ­£ç¡®åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œæµ‹è¯•è¦†ç›–ç‡ >95% âœ…

---

## Phase 2: åç«¯æ ¸å¿ƒè¯»å–é€»è¾‘ (Day 3-4) âœ… å·²å®Œæˆ

### BE-2.1: ç»Ÿè®¡æ•°æ®è¯»å–å™¨ âœ…
- [x] åˆ›å»º `backend/app/core/stats_reader.py`
- [x] å®ç° `StatsReader` ç±»
- [x] å®ç° `read_stats_cache()` æ–¹æ³•
- [x] å®ç° `parse_jsonl_files()` æ–¹æ³•
- [x] å®ç° `get_model_usage()` æ–¹æ³•
- [x] å®ç° `get_daily_activity()` æ–¹æ³•
- [x] å®ç° `calculate_cache_hit_rate()` æ–¹æ³•
- [x] å®‰å…¨çš„æ–‡ä»¶è¯»å–ï¼ˆå¼‚å¸¸å¤„ç†ï¼‰
- [x] æ”¯æŒå¢é‡è§£æ JSONL
- [x] ç¼–å†™ `test_stats_reader.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: èƒ½æ­£ç¡®è¯»å–å’Œè§£ææœ¬åœ°æ•°æ®æ–‡ä»¶ï¼Œæµ‹è¯•è¦†ç›–ç‡ >90% âœ…

### BE-2.2: å®šä»·è®¡ç®—æ¨¡å— âœ…
- [x] åˆ›å»º `backend/app/pricing.py`
- [x] å®šä¹‰ `ModelPricing` æ•°æ®ç±»
- [x] å®šä¹‰ `PRICING_CONFIG` é…ç½®
- [x] å®ç° `calculate_cost()` å‡½æ•°
- [x] å®ç° `normalize_model_name()` å‡½æ•°
- [x] æ”¯æŒå¤šæ¨¡å‹èšåˆè®¡ç®—
- [x] æ”¯æŒæ—¶é—´èŒƒå›´ç­›é€‰
- [x] ç¼–å†™ `test_pricing.py` æµ‹è¯•

**å®šä»·é…ç½® (2025å¹´1æœˆ)**:
| æ¨¡å‹ | è¾“å…¥ | è¾“å‡º | ç¼“å­˜è¯»å– | ç¼“å­˜å†™å…¥ |
|------|------|------|----------|----------|
| Opus 4.5 | $15/M | $75/M | $1.5/M | $18.75/M |
| Sonnet 4.5 | $3/M | $15/M | $0.3/M | $3.75/M |
| Haiku 4.5 | $0.8/M | $4/M | $0.08/M | $1/M |

**éªŒæ”¶æ ‡å‡†**: è´¹ç”¨è®¡ç®—ç»“æœä¸æ‰‹åŠ¨è®¡ç®—ä¸€è‡´ï¼Œæµ‹è¯•è¦†ç›–ç‡ >95% âœ…

### BE-2.3: æ•°æ®å¤„ç†å™¨ âœ…
- [x] åˆ›å»º `backend/app/core/data_processor.py`
- [x] å®ç° `aggregate_daily_stats()` å‡½æ•°
- [x] å®ç° `aggregate_model_stats()` å‡½æ•°
- [x] å®ç° `calculate_trends()` å‡½æ•°
- [x] å®ç° `filter_by_date_range()` å‡½æ•°
- [x] ç¼–å†™ `test_data_processor.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: èšåˆæ•°æ®æ­£ç¡®ï¼Œæ€§èƒ½æ»¡è¶³è¦æ±‚ï¼Œæµ‹è¯•è¦†ç›–ç‡ >85% âœ…

---

## Phase 3: åç«¯æ–‡ä»¶ç›‘å¬ä¸å®æ—¶æ›´æ–° (Day 5-6) âœ… å·²å®Œæˆ

### BE-3.1: æ–‡ä»¶ç›‘å¬å™¨ âœ…
- [x] åˆ›å»º `backend/app/core/file_watcher.py`
- [x] å®ç° `FileWatcher` ç±»
- [x] å®ç° `watch_stats_cache()` æ–¹æ³•
- [x] å®ç° `watch_jsonl_files()` æ–¹æ³•
- [x] å®ç° `on_file_modified()` å›è°ƒ
- [x] å®ç° `start_watching()` æ–¹æ³•
- [x] å®ç° `stop_watching()` æ–¹æ³•
- [x] ä½¿ç”¨ watchdog ç›‘å¬æ–‡ä»¶å˜åŒ–
- [x] é˜²æŠ–å¤„ç†ï¼ˆé¿å…é¢‘ç¹è§¦å‘ï¼‰
- [x] æ”¯æŒä¼˜é›…åœæ­¢
- [x] ç¼–å†™ `test_file_watcher.py` é›†æˆæµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ–‡ä»¶å˜åŒ–èƒ½åœ¨ 1 ç§’å†…æ£€æµ‹åˆ° âœ…

### BE-3.2: WebSocket å¤„ç†å™¨ âœ…
- [x] åˆ›å»º `backend/app/api/websocket.py`
- [x] å®ç° WebSocket è¿æ¥ç®¡ç†
- [x] å®ç° `handle_websocket()` å¤„ç†å™¨
- [x] å®ç° `broadcast()` å¹¿æ’­æ–¹æ³•
- [x] å®ç° `send_stats_update()` æ–¹æ³•
- [x] å®ç° `handle_heartbeat()` å¿ƒè·³å¤„ç†
- [x] è¿æ¥æ–­å¼€è‡ªåŠ¨æ¸…ç†
- [x] ç¼–å†™ `test_websocket.py` é›†æˆæµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: WebSocket è¿æ¥ç¨³å®šï¼Œæ¶ˆæ¯å®æ—¶æ¨é€ âœ…

---

## Phase 4: åç«¯ API ä¸æ•°æ®åº“ (Day 7-8) âœ… å·²å®Œæˆ

### BE-4.1: æ•°æ®åº“æ¨¡å— âœ…
- [x] åˆ›å»º `backend/app/db/database.py`
- [x] åˆ›å»º `backend/app/db/models.py`
- [x] å®ç°æ•°æ®åº“è¿æ¥æ± 
- [x] å®šä¹‰æ•°æ®åº“è¡¨ç»“æ„
- [x] å®ç° `init_db()` åˆå§‹åŒ–
- [x] å®ç° `save_stats_snapshot()` ä¿å­˜å¿«ç…§
- [x] å®ç° `get_historical_stats()` è·å–å†å²
- [x] å®ç° `cleanup_old_data()` æ•°æ®æ¸…ç†
- [x] åˆ›å»º `backend/scripts/migrate.py` è¿ç§»è„šæœ¬
- [x] ç¼–å†™ `test_database.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ•°æ®åº“æ“ä½œæ­£ç¡®ï¼Œè¿ç§»è„šæœ¬å¯æ‰§è¡Œ âœ…

### BE-4.2: API è·¯ç”± âœ…
- [x] åˆ›å»º `backend/app/api/routes.py`
- [x] å®ç° `GET /api/v1/health` å¥åº·æ£€æŸ¥
- [x] å®ç° `GET /api/v1/stats` è·å–å½“å‰ç»Ÿè®¡
- [x] å®ç° `GET /api/v1/stats/daily` è·å–æ¯æ—¥ç»Ÿè®¡
- [x] å®ç° `GET /api/v1/stats/models` è·å–æ¨¡å‹ç»Ÿè®¡
- [x] å®ç° `GET /api/v1/stats/trends` è·å–è¶‹åŠ¿æ•°æ®
- [x] å®ç° `GET /api/v1/stats/history` è·å–å†å²æ•°æ®
- [x] å®ç° `POST /api/v1/export` å¯¼å‡ºæ•°æ®
- [x] å®ç° `GET /api/v1/config` è·å–é…ç½®
- [x] æ·»åŠ è¯·æ±‚éªŒè¯
- [x] æ·»åŠ é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- [x] æ·»åŠ  CORS é…ç½®
- [x] ç¼–å†™ `test_routes.py` API æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ âœ…

### BE-4.3: å¯¼å‡ºæœåŠ¡ âœ…
- [x] åˆ›å»º `backend/app/core/export_service.py`
- [x] å®ç° CSV å¯¼å‡º
- [x] å®ç° JSON å¯¼å‡º
- [x] æ”¯æŒæ—¶é—´èŒƒå›´ç­›é€‰
- [x] æ”¯æŒå­—æ®µé€‰æ‹©
- [x] ç¼–å†™ `test_export_service.py` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: å¯¼å‡ºæ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œæ•°æ®å®Œæ•´ âœ…

---

## Phase 5: åç«¯é›†æˆä¸æµ‹è¯• (Day 9) âœ… å·²å®Œæˆ

### BE-5.1: åº”ç”¨å…¥å£ âœ…
- [x] åˆ›å»º `backend/app/main.py`
- [x] å®ç° `create_app()` åº”ç”¨å·¥å‚
- [x] å®ç° `setup_routes()` è·¯ç”±é…ç½®
- [x] å®ç° `setup_middlewares()` ä¸­é—´ä»¶é…ç½®
- [x] å®ç° `start_background_tasks()` åå°ä»»åŠ¡
- [x] å®ç° `cleanup()` èµ„æºæ¸…ç†
- [x] é…ç½®é™æ€æ–‡ä»¶æœåŠ¡
- [x] å®ç°ä¼˜é›…å…³é—­
- [x] ç¼–å†™å¯åŠ¨è„šæœ¬

**éªŒæ”¶æ ‡å‡†**: åº”ç”¨èƒ½æ­£å¸¸å¯åŠ¨å’Œå…³é—­ âœ…

### BE-5.2: åç«¯é›†æˆæµ‹è¯• âœ…
- [x] åˆ›å»º `backend/tests/conftest.py` pytest é…ç½®
- [x] API ç«¯ç‚¹é›†æˆæµ‹è¯• (`test_api_integration.py`)
- [x] WebSocket é›†æˆæµ‹è¯• (`test_ws_integration.py`)
- [x] æ–‡ä»¶ç›‘å¬é›†æˆæµ‹è¯• (`test_watcher_integration.py`)
- [x] æ•°æ®åº“é›†æˆæµ‹è¯• (`test_db_integration.py`)
- [x] ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æµ‹è¯•è¦†ç›–ç‡ >80% âœ…

### BE-5.3: åç«¯æ€§èƒ½æµ‹è¯• âœ…
- [x] API å“åº”æ—¶é—´æµ‹è¯•ï¼ˆP99 < 200msï¼‰
- [x] WebSocket å»¶è¿Ÿæµ‹è¯•ï¼ˆ< 100msï¼‰
- [x] å†…å­˜å ç”¨æµ‹è¯•ï¼ˆ< 100MBï¼‰
- [x] å¹¶å‘è¿æ¥æµ‹è¯•ï¼ˆ> 100 è¿æ¥ï¼‰

**éªŒæ”¶æ ‡å‡†**: æ€§èƒ½æŒ‡æ ‡æ»¡è¶³è¦æ±‚ âœ…

---

## Phase 6: å‰ç«¯é¡¹ç›®åˆå§‹åŒ– (Day 10-11) âœ… å·²å®Œæˆ

### FE-1.1: é¡¹ç›®æ­å»º âœ…
- [x] ä½¿ç”¨ Vite åˆ›å»º Svelte + TypeScript é¡¹ç›®
- [x] å®‰è£…å¹¶é…ç½® Skeleton UI
- [x] å®‰è£…å¹¶é…ç½® Layerchart
- [x] é…ç½® ESLint + Prettier
- [x] é…ç½®è·¯å¾„åˆ«å `$lib`
- [x] è®¾ç½®å‰ç«¯ç›®å½•ç»“æ„

**éªŒæ”¶æ ‡å‡†**: `pnpm dev` èƒ½æ­£å¸¸å¯åŠ¨å¼€å‘æœåŠ¡å™¨ âœ…

### FE-1.2: ç±»å‹å®šä¹‰ âœ…
- [x] åˆ›å»º `frontend/src/lib/types/stats.ts`
- [x] å®šä¹‰ `StatsCache` æ¥å£
- [x] å®šä¹‰ `ModelUsage` æ¥å£
- [x] å®šä¹‰ `DailyActivity` æ¥å£
- [x] åˆ›å»º `frontend/src/lib/types/api.ts`
- [x] åˆ›å»º `frontend/src/lib/types/chart.ts`
- [x] æ·»åŠ ç±»å‹å¯¼å‡º

**éªŒæ”¶æ ‡å‡†**: TypeScript ç¼–è¯‘æ— ç±»å‹é”™è¯¯ âœ…

### FE-1.3: å…¨å±€æ ·å¼é…ç½® âœ…
- [x] é…ç½® Skeleton UI ä¸»é¢˜
- [x] å®šä¹‰ CSS å˜é‡ï¼ˆé¢œè‰²ã€é—´è·ã€åœ†è§’ï¼‰
- [x] é…ç½® Dark/Light ä¸»é¢˜è‰²æ¿
- [x] æ·»åŠ å…¨å±€å“åº”å¼æ–­ç‚¹

**éªŒæ”¶æ ‡å‡†**: ä¸»é¢˜åˆ‡æ¢æ­£å¸¸å·¥ä½œ âœ…

---

## Phase 7: å‰ç«¯åŸºç¡€ç»„ä»¶ (Day 12-14) âœ… å·²å®Œæˆ

### FE-2.1: StatCard ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/common/StatCard.svelte`
- [x] å®ç°åŸºç¡€å¸ƒå±€
- [x] æ”¯æŒè¶‹åŠ¿æŒ‡ç¤ºå™¨ï¼ˆä¸Šå‡/ä¸‹é™ï¼‰
- [x] æ”¯æŒå›¾æ ‡æ˜¾ç¤º
- [x] æ·»åŠ åŠ¨ç”»æ•ˆæœ
- [x] ç¼–å†™ `StatCard.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: ç»„ä»¶å¯å¤ç”¨ï¼Œæµ‹è¯•è¦†ç›–ç‡ >90% âœ…

### FE-2.2: LoadingSpinner ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/common/LoadingSpinner.svelte`
- [x] å®ç°å¤šç§å°ºå¯¸ï¼ˆsm/md/lgï¼‰
- [x] æ”¯æŒè‡ªå®šä¹‰é¢œè‰²
- [x] æ·»åŠ åŠ è½½æ–‡æœ¬é€‰é¡¹

### FE-2.3: ErrorMessage ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/common/ErrorMessage.svelte`
- [x] æ”¯æŒå¤šç§é”™è¯¯ç±»å‹
- [x] æ”¯æŒé‡è¯•æŒ‰é’®
- [x] æ”¯æŒå…³é—­åŠŸèƒ½

### FE-2.4: DateRangePicker ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/common/DateRangePicker.svelte`
- [x] å®ç°æ—¥æœŸèŒƒå›´é€‰æ‹©
- [x] æ”¯æŒå¿«æ·é€‰é¡¹ï¼ˆä»Šæ—¥/æœ¬å‘¨/æœ¬æœˆï¼‰
- [x] æ”¯æŒè‡ªå®šä¹‰èŒƒå›´
- [x] ç¼–å†™ `DateRangePicker.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰é€šç”¨ç»„ä»¶å¯å¤ç”¨ï¼Œæµ‹è¯•è¦†ç›–ç‡ >80% âœ…

### FE-2.5: å¸ƒå±€ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/layout/Header.svelte`
- [x] åˆ›å»º `frontend/src/lib/components/layout/ThemeToggle.svelte`
- [x] åˆ›å»º `frontend/src/lib/components/layout/Footer.svelte`
- [x] å®ç°å“åº”å¼é€‚é…
- [x] ä¿å­˜ç”¨æˆ·ä¸»é¢˜åå¥½åˆ° localStorage

**éªŒæ”¶æ ‡å‡†**: å¸ƒå±€ç»„ä»¶åœ¨å„ç§å±å¹•å°ºå¯¸ä¸‹æ­£å¸¸æ˜¾ç¤º âœ…

---

## Phase 8: å‰ç«¯å›¾è¡¨ç»„ä»¶ (Day 15-18) âœ… å·²å®Œæˆ

### FE-3.1: TrendChart ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/charts/TrendChart.svelte`
- [x] å®ç°æŠ˜çº¿å›¾åŸºç¡€åŠŸèƒ½
- [x] æ”¯æŒå¤šæ•°æ®ç³»åˆ—
- [x] æ”¯æŒç¼©æ”¾å’Œå¹³ç§»
- [x] æ·»åŠ  Tooltip äº¤äº’
- [x] å“åº”å¼é€‚é…
- [x] ç¼–å†™ `TrendChart.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: å›¾è¡¨æ¸²æŸ“æµç•…ï¼Œäº¤äº’å“åº” <50ms âœ…

### FE-3.2: ModelPieChart ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/charts/ModelPieChart.svelte`
- [x] å®ç°é¥¼å›¾/ç¯å½¢å›¾
- [x] æ˜¾ç¤ºå„æ¨¡å‹ token å æ¯”
- [x] æ”¯æŒå›¾ä¾‹äº¤äº’
- [x] æ·»åŠ æ‚¬æµ®è¯¦æƒ…
- [x] ç¼–å†™ `ModelPieChart.test.ts` æµ‹è¯•

### FE-3.3: ActivityHeatmap ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/charts/ActivityHeatmap.svelte`
- [x] å®ç°æ—¥å†çƒ­åŠ›å›¾
- [x] æ˜¾ç¤ºæ¯æ—¥æ¶ˆæ¯æ•°é‡
- [x] æ”¯æŒé¢œè‰²å¼ºåº¦æ˜ å°„
- [x] æ·»åŠ æ‚¬æµ®è¯¦æƒ…
- [x] ç¼–å†™ `ActivityHeatmap.test.ts` æµ‹è¯•

### FE-3.4: CostChart ç»„ä»¶ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/charts/CostChart.svelte`
- [x] å®ç°å †å æŸ±çŠ¶å›¾
- [x] æ˜¾ç¤ºå„æ¨¡å‹è´¹ç”¨
- [x] æ”¯æŒæ—¶é—´èŒƒå›´åˆ‡æ¢
- [x] æ·»åŠ è´¹ç”¨æ±‡æ€»
- [x] ç¼–å†™ `CostChart.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: æ‰€æœ‰å›¾è¡¨ç»„ä»¶æ¸²æŸ“æ­£ç¡®ï¼Œäº¤äº’æµç•… âœ…

---

## Phase 9: å‰ç«¯çŠ¶æ€ç®¡ç†ä¸æœåŠ¡ (Day 19-21) âœ… å·²å®Œæˆ

### FE-4.1: statsStore âœ…
- [x] åˆ›å»º `frontend/src/lib/stores/statsStore.ts`
- [x] å®ç° `stats` åŸå§‹æ•°æ® Store
- [x] å®ç° `loading` çŠ¶æ€ Store
- [x] å®ç° `error` é”™è¯¯ Store
- [x] å®ç° `cacheHitRate` æ´¾ç”Ÿ Store
- [x] å®ç° `totalCost` æ´¾ç”Ÿ Store
- [x] å®ç° `totalTokens` æ´¾ç”Ÿ Store
- [x] å®ç° `loadStats()` å‡½æ•°
- [x] ç¼–å†™ `statsStore.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: çŠ¶æ€ç®¡ç†æ­£ç¡®ï¼Œæµ‹è¯•è¦†ç›–ç‡ >95% âœ…

### FE-4.2: wsStore âœ…
- [x] åˆ›å»º `frontend/src/lib/stores/wsStore.ts`
- [x] å®ç° `wsStatus` è¿æ¥çŠ¶æ€ Store
- [x] å®ç° `wsError` é”™è¯¯ Store
- [x] ç¼–å†™ `wsStore.test.ts` æµ‹è¯•

### FE-4.3: themeStore âœ…
- [x] åˆ›å»º `frontend/src/lib/stores/themeStore.ts`
- [x] å®ç°ä¸»é¢˜çŠ¶æ€
- [x] å®ç° localStorage æŒä¹…åŒ–
- [x] å®ç°ç³»ç»Ÿä¸»é¢˜æ£€æµ‹
- [x] ç¼–å†™ `themeStore.test.ts` æµ‹è¯•

### FE-4.4: API æœåŠ¡ âœ…
- [x] åˆ›å»º `frontend/src/lib/services/api.ts`
- [x] å®ç° `fetchStats()` å‡½æ•°
- [x] å®ç° `fetchDailyStats()` å‡½æ•°
- [x] å®ç° `exportData()` å‡½æ•°
- [x] æ·»åŠ é”™è¯¯å¤„ç†
- [x] æ·»åŠ è¯·æ±‚è¶…æ—¶
- [x] æ·»åŠ è¯·æ±‚é‡è¯•
- [x] ç¼–å†™ `api.test.ts` æµ‹è¯•

### FE-4.5: WebSocket æœåŠ¡ âœ…
- [x] åˆ›å»º `frontend/src/lib/services/websocket.ts`
- [x] å®ç° `WebSocketService` ç±»
- [x] å®ç° `connect()` æ–¹æ³•
- [x] å®ç° `disconnect()` æ–¹æ³•
- [x] å®ç°è‡ªåŠ¨é‡è¿ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- [x] å®ç°å¿ƒè·³æ£€æµ‹
- [x] å®ç°æ¶ˆæ¯è§£æ
- [x] ç¼–å†™ `websocket.test.ts` æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**: WebSocket è¿æ¥ç¨³å®š âœ…

---

## Phase 10: å‰ç«¯ä»ªè¡¨æ¿é¡µé¢ (Day 22-25) âœ… å·²å®Œæˆ

### FE-5.1: StatsOverview é¢æ¿ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/dashboard/StatsOverview.svelte`
- [x] æ˜¾ç¤ºæ€» Token æ•°
- [x] æ˜¾ç¤ºç¼“å­˜å‘½ä¸­ç‡
- [x] æ˜¾ç¤ºæ€»è´¹ç”¨ä¼°ç®—
- [x] æ˜¾ç¤ºä¼šè¯æ•°é‡
- [x] é›†æˆ StatCard ç»„ä»¶
- [x] æ·»åŠ å®æ—¶æ›´æ–°æŒ‡ç¤º

### FE-5.2: ModelUsagePanel é¢æ¿ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/dashboard/ModelUsagePanel.svelte`
- [x] æ˜¾ç¤ºå„æ¨¡å‹ Token ç”¨é‡
- [x] é›†æˆé¥¼å›¾ç»„ä»¶
- [x] æ”¯æŒæ¨¡å‹ç­›é€‰
- [x] æ·»åŠ è¯¦ç»†æ•°æ®è¡¨æ ¼

### FE-5.3: DailyActivityPanel é¢æ¿ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/dashboard/DailyActivityPanel.svelte`
- [x] æ˜¾ç¤ºæ¯æ—¥æ¶ˆæ¯è¶‹åŠ¿
- [x] é›†æˆçƒ­åŠ›å›¾ç»„ä»¶
- [x] æ”¯æŒæ—¥æœŸèŒƒå›´é€‰æ‹©
- [x] æ˜¾ç¤ºé«˜å³°æ—¶æ®µ

### FE-5.4: CostEstimatePanel é¢æ¿ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/dashboard/CostEstimatePanel.svelte`
- [x] æ˜¾ç¤ºå„æ¨¡å‹è´¹ç”¨
- [x] é›†æˆè´¹ç”¨å›¾è¡¨
- [x] æ˜¾ç¤ºè´¹ç”¨è¶‹åŠ¿
- [x] æ·»åŠ è´¹ç”¨æ˜ç»†

### FE-5.5: ä¸»é¡µé¢é›†æˆ âœ…
- [x] æ›´æ–° `frontend/src/App.svelte`
- [x] é›†æˆæ‰€æœ‰é¢æ¿ç»„ä»¶
- [x] å®ç°å“åº”å¼å¸ƒå±€ï¼ˆGridï¼‰
- [x] æ·»åŠ åŠ è½½çŠ¶æ€
- [x] æ·»åŠ é”™è¯¯å¤„ç†
- [x] å®ç°æ•°æ®åˆ·æ–°

**éªŒæ”¶æ ‡å‡†**: ä»ªè¡¨æ¿æ˜¾ç¤ºå®Œæ•´ï¼Œæ•°æ®å®æ—¶æ›´æ–° âœ…

---

## Phase 11: å‰ç«¯å¯¼å‡ºä¸è®¾ç½® (Day 26-27) âœ… å·²å®Œæˆ

### FE-6.1: å¯¼å‡ºåŠŸèƒ½ âœ…
- [x] åˆ›å»º `frontend/src/lib/services/export.ts`
- [x] å®ç° CSV å¯¼å‡º
- [x] å®ç° JSON å¯¼å‡º
- [x] æ·»åŠ å¯¼å‡ºè¿›åº¦æŒ‡ç¤º
- [x] æ”¯æŒæ—¶é—´èŒƒå›´é€‰æ‹©
- [x] æ”¯æŒå­—æ®µé€‰æ‹©

### FE-6.2: è®¾ç½®é¢æ¿ âœ…
- [x] åˆ›å»º `frontend/src/lib/components/Settings.svelte`
- [x] ä¸»é¢˜è®¾ç½®
- [x] åˆ·æ–°é¢‘ç‡è®¾ç½®
- [x] é€šçŸ¥è®¾ç½®
- [x] å…³äºä¿¡æ¯

**éªŒæ”¶æ ‡å‡†**: å¯¼å‡ºåŠŸèƒ½æ­£å¸¸ï¼Œè®¾ç½®èƒ½æŒä¹…åŒ– âœ…

### FE-6.3: å‰ç«¯æ„å»ºéªŒè¯ âœ…
- [x] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡
- [x] `pnpm run build` æ„å»ºæˆåŠŸ
- [x] å¼€å‘æœåŠ¡å™¨æ­£å¸¸å¯åŠ¨
- [x] é¡µé¢æ­£ç¡®æ¸²æŸ“

**éªŒæ”¶æ ‡å‡†**: å‰ç«¯åº”ç”¨èƒ½æ­£å¸¸æ„å»ºå’Œè¿è¡Œ âœ…

---

## Phase 12: å‰ç«¯æµ‹è¯•ä¸ä¼˜åŒ– (Day 28-29)

### FE-7.1: å•å…ƒæµ‹è¯•
- [ ] é…ç½® `frontend/vitest.config.ts`
- [ ] åˆ›å»º `frontend/tests/setup.ts`
- [ ] ç»„ä»¶å•å…ƒæµ‹è¯•ï¼ˆVitest + Testing Libraryï¼‰
- [ ] Store å•å…ƒæµ‹è¯•
- [ ] å·¥å…·å‡½æ•°å•å…ƒæµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–ç‡ >70%

### FE-7.2: E2E æµ‹è¯•
- [ ] é…ç½® `frontend/playwright.config.ts`
- [ ] åˆ›å»º `frontend/tests/e2e/dashboard.spec.ts`
- [ ] åˆ›å»º `frontend/tests/e2e/responsive.spec.ts`
- [ ] é¡µé¢åŠ è½½æµ‹è¯•
- [ ] æ•°æ®æ˜¾ç¤ºæµ‹è¯•
- [ ] äº¤äº’åŠŸèƒ½æµ‹è¯•
- [ ] ä¸»é¢˜åˆ‡æ¢æµ‹è¯•
- [ ] å¯¼å‡ºåŠŸèƒ½æµ‹è¯•

### FE-7.3: æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç åˆ†å‰²ï¼ˆlazy loadingï¼‰
- [ ] å›¾ç‰‡ä¼˜åŒ–
- [ ] æ„å»ºäº§ç‰©ä¼˜åŒ–
- [ ] Lighthouse è¯„åˆ† >90

### FE-7.4: å¯è®¿é—®æ€§
- [ ] ARIA æ ‡ç­¾
- [ ] é”®ç›˜å¯¼èˆª
- [ ] é¢œè‰²å¯¹æ¯”åº¦
- [ ] å±å¹•é˜…è¯»å™¨æ”¯æŒ

**éªŒæ”¶æ ‡å‡†**: æµ‹è¯•é€šè¿‡ï¼Œæ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

---

## Phase 13: CI/CD é…ç½®

### CD-1: GitHub Actions
- [ ] åˆ›å»º `.github/workflows/ci.yml`
- [ ] é…ç½®ä»£ç æ£€æŸ¥ä»»åŠ¡
- [ ] é…ç½®åç«¯æµ‹è¯•ä»»åŠ¡
- [ ] é…ç½®å‰ç«¯æµ‹è¯•ä»»åŠ¡
- [ ] é…ç½® Docker é•œåƒæ„å»ºä»»åŠ¡
- [ ] é…ç½® E2E æµ‹è¯•ä»»åŠ¡

### CD-2: å‘å¸ƒå·¥ä½œæµ
- [ ] åˆ›å»º `.github/workflows/release.yml`
- [ ] é…ç½®å¤šå¹³å°æ„å»ºï¼ˆlinux/amd64, linux/arm64ï¼‰
- [ ] é…ç½® GitHub Release è‡ªåŠ¨åˆ›å»º
- [ ] é…ç½® Docker é•œåƒæ¨é€åˆ° GHCR

**éªŒæ”¶æ ‡å‡†**: CI/CD æµæ°´çº¿æ­£å¸¸è¿è¡Œ

---

## æ€§èƒ½æŒ‡æ ‡è¦æ±‚

### åç«¯æ€§èƒ½
| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| API P50 å»¶è¿Ÿ | < 50ms |
| API P99 å»¶è¿Ÿ | < 200ms |
| WebSocket å»¶è¿Ÿ | < 100ms |
| å†…å­˜å ç”¨ | < 256MB |
| CPU å ç”¨ (idle) | < 50% |

### å‰ç«¯æ€§èƒ½
| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| é¦–å±åŠ è½½æ—¶é—´ | < 1s |
| é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP) | < 1.2s |
| æœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP) | < 2.5s |
| äº¤äº’å“åº”æ—¶é—´ | < 100ms |
| å›¾è¡¨æ¸²æŸ“æ—¶é—´ | < 200ms |
| æ‰“åŒ…ä½“ç§¯ (gzip) | < 100KB |
| Lighthouse è¯„åˆ† | > 90 |

### Docker é•œåƒ
| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| æœ€ç»ˆé•œåƒå¤§å° | ~150MB |

---

## æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

### åç«¯
| æ¨¡å— | æœ€ä½è¦†ç›–ç‡ |
|------|------------|
| config.py | 90% |
| schemas.py | 95% |
| pricing.py | 95% |
| stats_reader.py | 90% |
| data_processor.py | 85% |
| export_service.py | 85% |
| routes.py | 75% |
| **æ•´ä½“** | **80%** |

### å‰ç«¯
| æ¨¡å— | æœ€ä½è¦†ç›–ç‡ |
|------|------------|
| StatCard ç»„ä»¶ | 90% |
| TrendChart ç»„ä»¶ | 80% |
| statsStore | 95% |
| wsStore | 90% |
| API æœåŠ¡ | 85% |
| å·¥å…·å‡½æ•° | 95% |
| **æ•´ä½“** | **70%** |

---

## å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# é¡¹ç›®åˆå§‹åŒ–
make setup

# å¼€å‘ç¯å¢ƒ
make dev                    # å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
make dev-backend            # ä»…å¯åŠ¨åç«¯
make dev-frontend           # ä»…å¯åŠ¨å‰ç«¯

# æµ‹è¯•
make test                   # è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test-backend           # è¿è¡Œåç«¯æµ‹è¯•
make test-frontend          # è¿è¡Œå‰ç«¯æµ‹è¯•
make test-e2e               # è¿è¡Œ E2E æµ‹è¯•
make coverage               # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š

# æ„å»ºä¸éƒ¨ç½²
make build                  # æ„å»º Docker é•œåƒ
make start                  # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
make stop                   # åœæ­¢æœåŠ¡
make restart                # é‡å¯æœåŠ¡
make logs                   # æŸ¥çœ‹æ—¥å¿—
make health                 # å¥åº·æ£€æŸ¥

# æ•°æ®åº“
make migrate                # æ‰§è¡Œè¿ç§»
make db-backup              # å¤‡ä»½æ•°æ®åº“
make db-restore             # æ¢å¤æ•°æ®åº“

# ä»£ç è´¨é‡
make lint                   # ä»£ç æ£€æŸ¥
make format                 # ä»£ç æ ¼å¼åŒ–
```

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼š1.1.0*
*æœ€åæ›´æ–°ï¼š2026-01-07*

---

## è¿›åº¦æ‘˜è¦

| Phase | çŠ¶æ€ | å®Œæˆæ—¥æœŸ |
|-------|------|----------|
| Phase 0: é¡¹ç›®åˆå§‹åŒ– | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 1: åç«¯åŸºç¡€è®¾æ–½ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 2: åç«¯æ ¸å¿ƒè¯»å–é€»è¾‘ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 3: åç«¯æ–‡ä»¶ç›‘å¬ä¸å®æ—¶æ›´æ–° | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 4: åç«¯ API ä¸æ•°æ®åº“ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 5: åç«¯é›†æˆä¸æµ‹è¯• | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 6: å‰ç«¯é¡¹ç›®åˆå§‹åŒ– | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 7: å‰ç«¯åŸºç¡€ç»„ä»¶ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 8: å‰ç«¯å›¾è¡¨ç»„ä»¶ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 9: å‰ç«¯çŠ¶æ€ç®¡ç†ä¸æœåŠ¡ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 10: å‰ç«¯ä»ªè¡¨æ¿é¡µé¢ | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 11: å‰ç«¯å¯¼å‡ºä¸è®¾ç½® | âœ… å·²å®Œæˆ | 2026-01-07 |
| Phase 12: å‰ç«¯æµ‹è¯•ä¸ä¼˜åŒ– | ğŸ”„ è¿›è¡Œä¸­ | - |
| Phase 13: CI/CD é…ç½® | â³ å¾…å¼€å§‹ | - |
